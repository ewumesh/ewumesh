(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{XUkN:function(e,t,i){"use strict";i.r(t),i.d(t,"SignUpModule",function(){return L});var n=i("ofXK"),r=i("tyNb"),a=i("3Pt+"),o=i("qFsG"),s=i("kmnG"),l=i("Wp6s"),d=i("bSwM"),b=i("dNgK"),c=i("/1cH"),p=i("fXoL"),m=i("lJxs"),u=i("3E0/"),g=i("XNiG"),f=i("9Q/d"),h=i("xCwu"),y=i("t8So"),S=i("TcFV"),T=i("d3UM"),v=i("FKr1"),C=i("NFeN");function w(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.firstName)}}function x(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.lastName)}}function M(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.userName)}}function N(e,t){1&e&&(p.Tb(0,"p",42),p.Ec(1," Username Not available "),p.Sb())}function O(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.address)}}function _(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.gender)}}function E(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.email)}}function P(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.password)}}function k(e,t){if(1&e&&(p.Tb(0,"mat-error",41),p.Ec(1),p.Sb()),2&e){const e=p.ec();p.Cb(1),p.Fc(null==e.displayMessage?null:e.displayMessage.confirmPassword)}}function q(e,t){1&e&&(p.Tb(0,"p",42),p.Ec(1," Password doesn't match "),p.Sb())}function I(e,t){1&e&&(p.Tb(0,"span"),p.Ec(1,"REGISTER"),p.Sb())}function F(e,t){1&e&&(p.Tb(0,"div",43),p.Ob(1,"div"),p.Ob(2,"div"),p.Sb())}let D=(()=>{class e{constructor(e,t,i,n){this.fb=e,this.router=t,this.snackbarService=i,this.authService=n,this.toDestroy$=new g.a,this.isLoading=!1,this.users=[],this.userName=!1,this.existUserName=!1,this.displayMessage={},this.hide=!0,this.genericValidator=new f.a({email:{required:"This field is required.",pattern:"Please enter valid email address."},password:{required:"This field is required."},confirmPassword:{required:"This field is required."},firstName:{required:"This field is required."},lastName:{required:"This field is required."},userName:{required:"This field is required."},address:{required:"This field is required."},gender:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getListOfUsers()}getListOfUsers(){this.authService.getAllUsers().pipe(Object(m.a)(e=>e.map(e=>Object.assign({key:e.payload.key},e.payload.val())))).subscribe(e=>{this.users=e})}initForm(){this.signupForm=this.fb.group({id:0,email:[null,[a.q.required,a.q.pattern(h.a.emailRegex)]],role:"user",firstName:[null,a.q.required],middleName:"",lastName:[null,a.q.required],userName:[null,a.q.required],address:[null,a.q.required],dob:[null],phone:"",gender:[null,a.q.required],edu:null,about:"",position:[null],profilePic:"",password:[null,a.q.required],confirmPassword:[null,a.q.required]},{validator:this.passwordConfirming})}validation(){this.genericValidator.initValidationProcess(this.signupForm,this.formInputElements).subscribe({next:e=>this.displayMessage=e})}passwordConfirming(e){if(e.get("password").value!==e.get("confirmPassword").value)return{invalid:!0}}ngAfterViewInit(){this.signupForm.get("userName").valueChanges.subscribe(e=>{this.authService.getAllUsers().pipe(Object(m.a)(e=>e.map(e=>Object.assign({key:e.payload.key},e.payload.val())))).subscribe(t=>{this.existUserName=!1,void 0!==t.find(t=>t.content.userName===e)?(this.userName=!0,this.existUserName=!0):(this.userName=!1,this.existUserName=!1)})}),this.validation()}saveChanges(){this.isLoading=!0;let e=this.users.find(e=>e.content.email===this.signupForm.value.email);console.log(this.signupForm.value),void 0===e?this.authService.addUser(this.signupForm.value).pipe(Object(u.a)(400)).subscribe(e=>{this.router.navigate(["/home"]),this.snackbarService.openFromComponent(y.a,{data:"User registered successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1,this.router.navigate(["/login"])}):(this.snackbarService.openFromComponent(y.a,{data:"User already registered.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1)}login(){setTimeout(()=>{this.router.navigate(["/login"])},400)}ngOnDestroy(){this.toDestroy$.next(),this.toDestroy$.complete()}}return e.\u0275fac=function(t){return new(t||e)(p.Nb(a.d),p.Nb(r.b),p.Nb(b.b),p.Nb(S.a))},e.\u0275cmp=p.Hb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&p.Kc(a.e,!0,p.l),2&e){let e;p.pc(e=p.bc())&&(t.formInputElements=e)}},decls:106,vars:18,consts:[["id","home",1,"signup_page","pb-4"],[1,"row","m_0"],[1,"col-md-2"],[1,"col-md-8"],[1,"signup_card"],[1,"text-center"],["src","assets/logo/e-logo.png",1,"login_img"],[1,"row"],[1,"col-md-12","text-center","signup_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-md-4"],[1,"max-width"],[1,"input_label"],["formControlName","firstName","type","text","matInput","","placeholder","Enter your first name"],["class","font-danger",4,"ngIf"],["formControlName","middleName","type","text","matInput","","placeholder","Enter your middle name(optional)"],["formControlName","lastName","type","text","matInput","","placeholder","Enter your last name"],[1,"max-width","pt-3"],["formControlName","userName","type","text","matInput","","placeholder","Create your username"],["class","wrong_password",4,"ngIf"],["formControlName","address","type","text","matInput","","placeholder","Enter your address"],["formControlName","phone","type","text","matInput","","placeholder","Enter your phone no"],["formControlName","gender"],["value","Male"],["value","Female"],["value","Other"],["formControlName","edu","type","text","matInput","","placeholder","Enter your higher education level."],["type","text","placeholder","Enter your position","matInput","","formControlName","position"],["formControlName","email","type","email","matInput","","placeholder","Enter username"],["formControlName","password","type","password","matInput","","placeholder","Enter Your Password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["formControlName","confirmPassword","type","password","matInput","","placeholder","Re-enter your password"],[1,"col-md-12",2,"padding","0 !important"],["formControlName","about","type","text","matInput","","placeholder","Write about yourself"],[1,"col-md","12","text-center","pt-3"],[1,"signup_btn","signup_btn-5",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"col-md-12","text-center","pt-4"],[1,"already"],["href","Javascript:;",1,"s_login",3,"click"],[1,"font-danger"],[1,"wrong_password"],[1,"spinner"]],template:function(e,t){1&e&&(p.Tb(0,"header",0),p.Tb(1,"div",1),p.Ob(2,"div",2),p.Tb(3,"div",3),p.Tb(4,"mat-card",4),p.Tb(5,"div",5),p.Ob(6,"img",6),p.Sb(),p.Tb(7,"div",7),p.Tb(8,"div",8),p.Tb(9,"form",9),p.ac("ngSubmit",function(){return t.saveChanges()}),p.Tb(10,"div",7),p.Tb(11,"div",10),p.Tb(12,"mat-form-field",11),p.Tb(13,"mat-label",12),p.Ec(14,"First Name"),p.Sb(),p.Ob(15,"input",13),p.Dc(16,w,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(17,"div",10),p.Tb(18,"mat-form-field",11),p.Tb(19,"mat-label",12),p.Ec(20,"Middle Name"),p.Sb(),p.Ob(21,"input",15),p.Sb(),p.Sb(),p.Tb(22,"div",10),p.Tb(23,"mat-form-field",11),p.Tb(24,"mat-label",12),p.Ec(25,"Last Name"),p.Sb(),p.Ob(26,"input",16),p.Dc(27,x,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(28,"div",10),p.Tb(29,"mat-form-field",17),p.Tb(30,"mat-label",12),p.Ec(31,"User Name"),p.Sb(),p.Ob(32,"input",18),p.Dc(33,M,2,1,"mat-error",14),p.Sb(),p.Dc(34,N,2,0,"p",19),p.Sb(),p.Tb(35,"div",10),p.Tb(36,"mat-form-field",17),p.Tb(37,"mat-label",12),p.Ec(38,"Address"),p.Sb(),p.Ob(39,"input",20),p.Dc(40,O,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(41,"div",10),p.Tb(42,"mat-form-field",17),p.Tb(43,"mat-label",12),p.Ec(44,"Phone No."),p.Sb(),p.Ob(45,"input",21),p.Sb(),p.Sb(),p.Tb(46,"div",10),p.Tb(47,"mat-form-field",17),p.Tb(48,"mat-label",12),p.Ec(49,"Gender"),p.Sb(),p.Tb(50,"mat-select",22),p.Tb(51,"mat-option",23),p.Ec(52,"Male"),p.Sb(),p.Tb(53,"mat-option",24),p.Ec(54,"Female"),p.Sb(),p.Tb(55,"mat-option",25),p.Ec(56,"Other"),p.Sb(),p.Sb(),p.Dc(57,_,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(58,"div",10),p.Tb(59,"mat-form-field",17),p.Tb(60,"mat-label",12),p.Ec(61,"Education"),p.Sb(),p.Ob(62,"input",26),p.Sb(),p.Sb(),p.Tb(63,"div",10),p.Tb(64,"mat-form-field",17),p.Tb(65,"mat-label",12),p.Ec(66,"Position"),p.Sb(),p.Ob(67,"input",27),p.Sb(),p.Sb(),p.Tb(68,"div",10),p.Tb(69,"mat-form-field",17),p.Tb(70,"mat-label",12),p.Ec(71,"Email"),p.Sb(),p.Ob(72,"input",28),p.Dc(73,E,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(74,"div",10),p.Tb(75,"mat-form-field",17),p.Tb(76,"mat-label",12),p.Ec(77,"Password"),p.Sb(),p.Ob(78,"input",29),p.Tb(79,"span",30),p.ac("click",function(){return t.hide=!t.hide}),p.Tb(80,"mat-icon"),p.Ec(81),p.Sb(),p.Sb(),p.Dc(82,P,2,1,"mat-error",14),p.Sb(),p.Sb(),p.Tb(83,"div",10),p.Tb(84,"mat-form-field",17),p.Tb(85,"mat-label",12),p.Ec(86,"Confirm Password"),p.Sb(),p.Ob(87,"input",31),p.Dc(88,k,2,1,"mat-error",14),p.Sb(),p.Dc(89,q,2,0,"p",19),p.Sb(),p.Tb(90,"div",32),p.Tb(91,"mat-form-field",17),p.Tb(92,"mat-label",12),p.Ec(93,"About"),p.Sb(),p.Ob(94,"textarea",33),p.Sb(),p.Sb(),p.Sb(),p.Tb(95,"div",7),p.Tb(96,"div",34),p.Tb(97,"button",35),p.Dc(98,I,2,0,"span",36),p.Dc(99,F,3,0,"div",37),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(100,"div",38),p.Tb(101,"p",39),p.Ec(102,"Already have an account? "),p.Tb(103,"a",40),p.ac("click",function(){return t.login()}),p.Ec(104,"Login"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Ob(105,"div",2),p.Sb(),p.Sb()),2&e&&(p.Cb(9),p.lc("formGroup",t.signupForm),p.Cb(7),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.firstName),p.Cb(11),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.lastName),p.Cb(6),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.userName),p.Cb(1),p.lc("ngIf",!0===t.userName),p.Cb(6),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.address),p.Cb(17),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.gender),p.Cb(16),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.email),p.Cb(5),p.lc("type",t.hide?"password":"text"),p.Cb(1),p.Db("aria-label","Hide password")("aria-pressed",t.hide),p.Cb(2),p.Fc(t.hide?"visibility_off":"visibility"),p.Cb(1),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.password),p.Cb(6),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.confirmPassword),p.Cb(1),p.lc("ngIf",null==t.signupForm.errors?null:t.signupForm.errors.invalid),p.Cb(8),p.lc("disabled",t.signupForm.invalid||t.isLoading||t.existUserName),p.Cb(1),p.lc("ngIf",!t.isLoading),p.Cb(1),p.lc("ngIf",t.isLoading))},directives:[l.a,a.r,a.m,a.g,s.c,s.f,a.c,o.b,a.l,a.e,n.l,T.a,v.k,s.g,C.a,s.b],styles:[".signup_img[_ngcontent-%COMP%]{height:120px;border-radius:100%}.signup_card[_ngcontent-%COMP%]{background-color:#343a40!important;background-size:cover}.img[_ngcontent-%COMP%], .signup_card[_ngcontent-%COMP%]{background-repeat:no-repeat;justify-content:center}.img[_ngcontent-%COMP%]{height:100px;margin:0;background-image:url(e-logo.8ee22f6cab3aad6d7b87.png)}.signup_page[_ngcontent-%COMP%]{padding-top:100px;min-height:100vh;background:url(https://image.freepik.com/free-photo/shiny-lights_385-19321244.jpg);background-size:cover}@keyframes myanimation{25%{background-color:#4e4e47}50%{background-color:#375537}75%{background-color:#3a2828}to{background-color:#3d3535}75%{background-color:#525055}50%{background-color:#794871}25%{background-color:#210527}0%{background-color:#501818}}.input_label[_ngcontent-%COMP%]{color:#fff}.signup_btn[_ngcontent-%COMP%]{color:#000;cursor:pointer;display:block;font-size:16px;font-weight:400;line-height:45px;max-width:160px;margin:0 auto 2em;position:relative;text-transform:uppercase;vertical-align:middle;width:100%}@media (min-width:400px){.signup_btn[_ngcontent-%COMP%]{display:inline-block;margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}}@media (min-width:600px){.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(5){margin-right:0}}.signup_btn-5[_ngcontent-%COMP%]{border:0 solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,0);text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1);outline-color:hsla(0,0%,100%,.5);outline-offset:0}.signup_btn-5[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-offset:15px;outline-color:hsla(0,0%,100%,0);text-shadow:1px 1px 2px #427388}.m_0[_ngcontent-%COMP%]{margin:0}.max-width[_ngcontent-%COMP%]{width:90%!important}.wrong_password[_ngcontent-%COMP%]{text-align:left!important;padding-left:10%!important;color:#f44336;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.already[_ngcontent-%COMP%]{color:#fff!important}.s_login[_ngcontent-%COMP%]{color:#0272f1!important;text-decoration:none}.s_login[_ngcontent-%COMP%]:hover{color:#00e676!important;text-decoration:none;transition:color .8s ease-in-out}.spinner[_ngcontent-%COMP%]{padding:0 auto;width:40px;height:40px;position:relative}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:50px;position:absolute;width:100%;height:100%;border:10px solid transparent;border-top-color:#00e676;border-radius:50%;animation:spinnerOne 1.2s linear infinite}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){border:10px solid transparent;border-bottom-color:#00e676;animation:spinnerTwo 1.2s linear infinite}@keyframes spinnerOne{0%{transform:rotate(0deg);border-width:10px}50%{transform:rotate(180deg);border-width:1px}to{transform:rotate(1turn);border-width:10px}}@keyframes spinnerTwo{0%{transform:rotate(0deg);border-width:1px}50%{transform:rotate(180deg);border-width:10px}to{transform:rotate(1turn);border-width:1px}}"]}),e})();var U=i("iadO");let L=(()=>{class e{}return e.\u0275mod=p.Lb({type:e}),e.\u0275inj=p.Kb({factory:function(t){return new(t||e)},imports:[[n.c,r.d.forChild([{path:"",component:D}]),a.h,a.p,o.c,s.e,l.b,d.b,b.c,T.b,c.b,v.j,U.c,C.b]]}),e})()}}]);