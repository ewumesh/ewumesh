(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{s09p:function(t,e,a){"use strict";a.r(e),a.d(e,"BlogModule",function(){return V});var i=a("ofXK"),n=a("tyNb"),o=a("3Pt+"),c=a("kmnG"),l=a("qFsG"),s=a("d3UM"),b=a("bSwM"),r=a("0IaG"),d=a("+0xr"),m=a("STbY"),u=a("NFeN"),g=a("/1cH"),p=a("R0Ic"),f=a("lJxs"),h=a("3E0/"),S=a("t8So"),R=a("fXoL"),v=a("9Q/d"),w=a("9q6C"),x=a("dNgK"),y=a("FKr1");function j(t,e){if(1&t&&(R.Sb(0,"mat-error",19),R.xc(1),R.Rb()),2&t){const t=R.dc();R.Bb(1),R.yc(null==t.displayMessage?null:t.displayMessage.title)}}function k(t,e){if(1&t&&(R.Sb(0,"mat-option",20),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.ic("value",t.value),R.Bb(1),R.zc(" ",t.value," ")}}function C(t,e){1&t&&(R.Sb(0,"span"),R.xc(1,"Save"),R.Rb())}function B(t,e){1&t&&(R.Sb(0,"span"),R.Nb(1,"i",21),R.Rb())}let I=(()=>{class t{constructor(t,e,a,i,n,o,c){this.fb=t,this.router=e,this.blogService=a,this.dialog=i,this.snackbar=n,this.dialogRef=o,this.data=c,this.blogData=[],this.isLoading=!1,this.displayMessage={},this.imageUrls=[{id:1,value:"assets/images/umesh.jpg"},{id:2,value:"assets/images/pujan.jpg"},{id:3,value:"assets/images/bijen-1.jpg"},{id:4,value:"assets/images/dharmendra.jpg"},{id:5,value:"assets/images/deepika.jpg"},{id:6,value:"assets/images/kanchan-1.jpg"},{id:7,value:"assets/images/prajwol.jpg"},{id:8,value:"assets/images/sagar.jpg"},{id:9,value:"assets/images/suren.jpg"},{id:10,value:"assets/images/saraswoti.jpg"},{id:11,value:"assets/images/team-1.jpg"},{id:12,value:"assets/images/team-2.jpg"},{id:13,value:"assets/images/team-4.jpg"},{id:14,value:"assets/images/team-3.jpg"},{id:15,value:"assets/images/rabin.jpg"},{id:18,value:"assets/images/aadarsa.jpg"}],this.genericValidator=new v.a({title:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getBlogs()}getBlogs(){this.blogService.getAllBlogs().pipe(Object(f.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.blogData=t;let e=t.find(t=>t.key===this.data.key);this.patchForm(e.content)})}initForm(){this.blogForm=this.fb.group({id:0,author:null,date:null,title:[null,o.o.required],headerImg:null,content:null})}patchForm(t){this.blogForm.patchValue({id:t.id,sn:t.sn,author:t.author,date:t.date,title:t.title,headerImg:t.headerImg,content:t.content})}validation(){this.genericValidator.initValidationProcess(this.blogForm,this.formInputElements).subscribe({next:t=>this.displayMessage=t})}saveChanges(){if(this.data.key){let t={};t.id=this.data.content.id,t.sn=this.data.content.sn,this.blogService.editBlog(this.data.key,this.blogForm.value,t).pipe(Object(h.a)(400)).subscribe(t=>{this.dialogRef.close()})}else this.blogService.postBlog(this.blogForm.value).pipe(Object(h.a)(500)).subscribe(t=>{t&&(this.router.navigate(["/blogs"]),this.dialogRef.close())})}cancel(){this.dialogRef.close()}ngAfterViewInit(){this.validation()}}return t.\u0275fac=function(e){return new(e||t)(R.Mb(o.c),R.Mb(n.a),R.Mb(w.a),R.Mb(r.b),R.Mb(x.b),R.Mb(r.d),R.Mb(r.a))},t.\u0275cmp=R.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&R.Cc(o.d,!0,R.l),2&t){let t;R.lc(t=R.ac())&&(e.formInputElements=t)}},decls:39,vars:7,consts:[["mat-dialog-title",""],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],["appearance","outline",2,"width","100%"],[1,"input_label"],["formControlName","title","type","author","matInput","","placeholder","Enter Title"],["class","text-danger",4,"ngIf"],["formControlName","author","type","author","matInput","","placeholder","Enter Author name"],["formControlName","date","type","author","matInput","","placeholder","Enter Date"],["type","text","placeholder","Select or Enter Urls(https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png)","aria-label","Number","matInput","","formControlName","headerImg",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["formControlName","content","type","author","matInput","","placeholder","Write here..........."],[1,"text-center"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled","click"],[4,"ngIf"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"text-danger"],[3,"value"],[1,"fa","fa-cog","fa-spin",2,"font-size","22px"]],template:function(t,e){if(1&t&&(R.Sb(0,"h1",0),R.xc(1,"Form"),R.Rb(),R.Sb(2,"form",1),R.Zb("ngSubmit",function(){return e.saveChanges()}),R.Sb(3,"div",2),R.Sb(4,"div",3),R.Sb(5,"mat-form-field",4),R.Sb(6,"mat-label",5),R.xc(7,"Title"),R.Rb(),R.Nb(8,"input",6),R.wc(9,j,2,1,"mat-error",7),R.Rb(),R.Rb(),R.Sb(10,"div",3),R.Sb(11,"mat-form-field",4),R.Sb(12,"mat-label",5),R.xc(13,"Author Name"),R.Rb(),R.Nb(14,"input",8),R.Rb(),R.Rb(),R.Sb(15,"div",3),R.Sb(16,"mat-form-field",4),R.Sb(17,"mat-label",5),R.xc(18,"Enter Date"),R.Rb(),R.Nb(19,"input",9),R.Rb(),R.Rb(),R.Sb(20,"div",3),R.Sb(21,"mat-form-field",4),R.Sb(22,"mat-label"),R.xc(23,"Image"),R.Rb(),R.Nb(24,"input",10),R.Sb(25,"mat-autocomplete",null,11),R.wc(27,k,2,2,"mat-option",12),R.Rb(),R.Rb(),R.Rb(),R.Sb(28,"div",13),R.Sb(29,"mat-form-field",4),R.Sb(30,"mat-label",5),R.xc(31,"Content"),R.Rb(),R.Nb(32,"textarea",14),R.Rb(),R.Rb(),R.Rb(),R.Rb(),R.Sb(33,"div",15),R.Sb(34,"button",16),R.Zb("click",function(){return e.saveChanges()}),R.wc(35,C,2,0,"span",17),R.wc(36,B,2,0,"span",17),R.Rb(),R.Sb(37,"button",18),R.Zb("click",function(){return e.cancel()}),R.xc(38,"Cancel"),R.Rb(),R.Rb()),2&t){const t=R.mc(26);R.Bb(2),R.ic("formGroup",e.blogForm),R.Bb(7),R.ic("ngIf",null==e.displayMessage?null:e.displayMessage.title),R.Bb(15),R.ic("matAutocomplete",t),R.Bb(3),R.ic("ngForOf",e.imageUrls),R.Bb(7),R.ic("disabled",e.blogForm.invalid||e.isLoading),R.Bb(1),R.ic("ngIf",!e.isLoading),R.Bb(1),R.ic("ngIf",e.isLoading)}},directives:[r.e,o.p,o.l,o.f,c.c,c.f,o.b,l.a,o.k,o.d,i.j,g.c,g.a,i.i,c.b,y.g],styles:[""]}),t})();function N(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," No. "),R.Rb())}function F(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.sn," ")}}function M(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Title "),R.Rb())}function D(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.title," ")}}function O(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Date "),R.Rb())}function P(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.date," ")}}function z(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Author "),R.Rb())}function A(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.author," ")}}function E(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Header Image "),R.Rb())}function Q(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.headerImg," ")}}function T(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Content "),R.Rb())}function $(t,e){if(1&t&&(R.Sb(0,"td",18),R.xc(1),R.Rb()),2&t){const t=e.$implicit;R.Bb(1),R.zc(" ",t.content.content," ")}}function G(t,e){1&t&&(R.Sb(0,"th",17),R.xc(1," Action "),R.Rb())}function H(t,e){if(1&t){const t=R.Tb();R.Sb(0,"td",18),R.Sb(1,"button",19),R.Nb(2,"i",20),R.Rb(),R.Sb(3,"mat-menu",null,21),R.Sb(5,"button",22),R.Zb("click",function(){R.oc(t);const a=e.$implicit;return R.dc().edit(a.content.id)}),R.Nb(6,"i",23),R.xc(7," Edit "),R.Rb(),R.Sb(8,"button",22),R.Zb("click",function(){R.oc(t);const a=e.$implicit;return R.dc().delete(a.content.id)}),R.Nb(9,"i",24),R.xc(10," Delete "),R.Rb(),R.Rb(),R.Rb()}if(2&t){const t=R.mc(4);R.Bb(1),R.ic("matMenuTriggerFor",t)}}function L(t,e){1&t&&R.Nb(0,"tr",25)}function Z(t,e){1&t&&R.Nb(0,"tr",26)}let q=(()=>{class t{constructor(t,e,a){this.dialog=t,this.blogService=e,this.snackbar=a,this.dataSource=new d.k(null),this.displayedColumns=["sn","title","date","author","headerImg","content","action"]}ngOnInit(){this.getBlogs()}getBlogs(){this.blogService.getAllBlogs().pipe(Object(f.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.dataSource.data=t})}edit(t){let e;const a=this.dataSource.data.find(e=>e.content.id===t);e=this.dialog.open(I,{width:"900px",data:a||{},autoFocus:!1}),e.afterClosed().pipe(Object(h.a)(500)).subscribe(t=>{this.dataSource._updateChangeSubscription()})}delete(t){const e=this.dataSource.data.find(e=>e.content.id===t);this.blogService.deleteBlog(e.key).pipe(Object(h.a)(400)).subscribe(t=>{this.snackbar.openFromComponent(S.a,{data:"Post Deleted Successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(R.Mb(r.b),R.Mb(w.a),R.Mb(x.b))},t.\u0275cmp=R.Gb({type:t,selectors:[["ng-component"]],decls:32,vars:3,consts:[[2,"background-color","rgb(124, 112, 112)","padding-top","100px","padding-bottom","20px"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","float-right","m-3",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","sn",2,"width","100px"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","date"],["matColumnDef","author"],["matColumnDef","headerImg"],["matColumnDef","content"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["type","button",1,"btn","btn-label-info","btn-sm","btn-icon","btn-circle",3,"matMenuTriggerFor"],[1,"fa","fa-align-center"],["menu","matMenu"],["type","button",1,"dropdown-item",3,"click"],[1,"flaticon-edit","kt-font-info","mr-1"],[1,"flaticon-delete","kt-font-danger","mr-1"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(R.Sb(0,"div",0),R.Sb(1,"div",1),R.Sb(2,"h3"),R.xc(3,"List of Team"),R.Rb(),R.Sb(4,"div",2),R.Sb(5,"div",3),R.Sb(6,"button",4),R.Zb("click",function(){return e.edit(0)}),R.xc(7,"Add new"),R.Rb(),R.Rb(),R.Rb(),R.Sb(8,"table",5),R.Qb(9,6),R.wc(10,N,2,0,"th",7),R.wc(11,F,2,1,"td",8),R.Pb(),R.Qb(12,9),R.wc(13,M,2,0,"th",7),R.wc(14,D,2,1,"td",8),R.Pb(),R.Qb(15,10),R.wc(16,O,2,0,"th",7),R.wc(17,P,2,1,"td",8),R.Pb(),R.Qb(18,11),R.wc(19,z,2,0,"th",7),R.wc(20,A,2,1,"td",8),R.Pb(),R.Qb(21,12),R.wc(22,E,2,0,"th",7),R.wc(23,Q,2,1,"td",8),R.Pb(),R.Qb(24,13),R.wc(25,T,2,0,"th",7),R.wc(26,$,2,1,"td",8),R.Pb(),R.Qb(27,14),R.wc(28,G,2,0,"th",7),R.wc(29,H,11,1,"td",8),R.Pb(),R.wc(30,L,1,0,"tr",15),R.wc(31,Z,1,0,"tr",16),R.Rb(),R.Rb(),R.Rb()),2&t&&(R.Bb(8),R.ic("dataSource",e.dataSource),R.Bb(22),R.ic("matHeaderRowDef",e.displayedColumns),R.Bb(1),R.ic("matRowDefColumns",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,m.c,m.a,d.f,d.h],styles:[""],data:{animation:[Object(p.m)("detailExpand",[Object(p.j)("collapsed",Object(p.k)({height:"0px",minHeight:"0"})),Object(p.j)("expanded",Object(p.k)({height:"*"})),Object(p.l)("expanded <=> collapsed",Object(p.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})(),V=(()=>{class t{}return t.\u0275mod=R.Kb({type:t}),t.\u0275inj=R.Jb({factory:function(e){return new(e||t)},providers:[w.a],imports:[[i.b,n.c.forChild([{path:"",component:q}]),o.g,o.n,c.e,l.b,s.a,b.b,r.c,d.l,m.b,u.a,g.b]]}),t})()}}]);