(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{s09p:function(t,e,a){"use strict";a.r(e),a.d(e,"BlogModule",function(){return V});var i=a("ofXK"),n=a("tyNb"),o=a("3Pt+"),c=a("kmnG"),l=a("qFsG"),s=a("d3UM"),b=a("bSwM"),r=a("0IaG"),d=a("+0xr"),m=a("STbY"),u=a("NFeN"),g=a("vrAh"),p=a("R0Ic"),f=a("lJxs"),h=a("3E0/"),S=a("t8So"),v=a("fXoL"),R=a("9Q/d"),w=a("9q6C"),x=a("dNgK"),y=a("FKr1");function j(t,e){if(1&t&&(v.Sb(0,"mat-error",19),v.xc(1),v.Rb()),2&t){const t=v.dc();v.Bb(1),v.yc(null==t.displayMessage?null:t.displayMessage.title)}}function k(t,e){if(1&t&&(v.Sb(0,"mat-option",20),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.ic("value",t.value),v.Bb(1),v.zc(" ",t.value," ")}}function C(t,e){1&t&&(v.Sb(0,"span"),v.xc(1,"Save"),v.Rb())}function B(t,e){1&t&&(v.Sb(0,"span"),v.Nb(1,"i",21),v.Rb())}let I=(()=>{class t{constructor(t,e,a,i,n,o,c){this.fb=t,this.router=e,this.blogService=a,this.dialog=i,this.snackbar=n,this.dialogRef=o,this.data=c,this.blogData=[],this.isLoading=!1,this.displayMessage={},this.imageUrls=[{id:1,value:"assets/images/umesh.jpg"},{id:2,value:"assets/images/pujan.jpg"},{id:3,value:"assets/images/bijen-1.jpg"},{id:4,value:"assets/images/dharmendra.jpg"},{id:5,value:"assets/images/deepika.jpg"},{id:6,value:"assets/images/kanchan-1.jpg"},{id:7,value:"assets/images/prajwol.jpg"},{id:8,value:"assets/images/sagar.jpg"},{id:9,value:"assets/images/suren.jpg"},{id:10,value:"assets/images/saraswoti.jpg"},{id:11,value:"assets/images/team-1.jpg"},{id:12,value:"assets/images/team-2.jpg"},{id:13,value:"assets/images/team-4.jpg"},{id:14,value:"assets/images/team-3.jpg"},{id:15,value:"assets/images/rabin.jpg"},{id:18,value:"assets/images/aadarsa.jpg"}],this.genericValidator=new R.a({title:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getBlogs()}getBlogs(){this.blogService.getAllBlogs().pipe(Object(f.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.blogData=t;let e=t.find(t=>t.key===this.data.key);this.patchForm(e.content)})}initForm(){this.blogForm=this.fb.group({id:0,author:null,date:null,title:[null,o.o.required],headerImg:null,content:null})}patchForm(t){this.blogForm.patchValue({id:t.id,sn:t.sn,author:t.author,date:t.date,title:t.title,headerImg:t.headerImg,content:t.content})}validation(){this.genericValidator.initValidationProcess(this.blogForm,this.formInputElements).subscribe({next:t=>this.displayMessage=t})}saveChanges(){if(this.data.key){let t={};t.id=this.data.content.id,t.sn=this.data.content.sn,this.blogService.editBlog(this.data.key,this.blogForm.value,t).pipe(Object(h.a)(400)).subscribe(t=>{this.dialogRef.close()})}else this.blogService.postBlog(this.blogForm.value).pipe(Object(h.a)(500)).subscribe(t=>{t&&(this.router.navigate(["/blogs"]),this.dialogRef.close())})}cancel(){this.dialogRef.close()}ngAfterViewInit(){this.validation()}}return t.\u0275fac=function(e){return new(e||t)(v.Mb(o.c),v.Mb(n.a),v.Mb(w.a),v.Mb(r.b),v.Mb(x.b),v.Mb(r.d),v.Mb(r.a))},t.\u0275cmp=v.Gb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&v.Cc(o.d,!0,v.l),2&t){let t;v.lc(t=v.ac())&&(e.formInputElements=t)}},decls:39,vars:7,consts:[["mat-dialog-title",""],["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],["appearance","outline",2,"width","100%"],[1,"input_label"],["formControlName","title","type","author","matInput","","placeholder","Enter Title"],["class","text-danger",4,"ngIf"],["formControlName","author","type","author","matInput","","placeholder","Enter Author name"],["formControlName","date","type","author","matInput","","placeholder","Enter Date"],["type","text","placeholder","Select or Enter Urls(https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png)","aria-label","Number","matInput","","formControlName","headerImg",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-12"],["formControlName","content","type","author","matInput","","placeholder","Write here..........."],[1,"text-center"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled","click"],[4,"ngIf"],[1,"btn","btn-danger","ml-2",3,"click"],[1,"text-danger"],[3,"value"],[1,"fa","fa-cog","fa-spin",2,"font-size","22px"]],template:function(t,e){if(1&t&&(v.Sb(0,"h1",0),v.xc(1,"Form"),v.Rb(),v.Sb(2,"form",1),v.Zb("ngSubmit",function(){return e.saveChanges()}),v.Sb(3,"div",2),v.Sb(4,"div",3),v.Sb(5,"mat-form-field",4),v.Sb(6,"mat-label",5),v.xc(7,"Title"),v.Rb(),v.Nb(8,"input",6),v.wc(9,j,2,1,"mat-error",7),v.Rb(),v.Rb(),v.Sb(10,"div",3),v.Sb(11,"mat-form-field",4),v.Sb(12,"mat-label",5),v.xc(13,"Author Name"),v.Rb(),v.Nb(14,"input",8),v.Rb(),v.Rb(),v.Sb(15,"div",3),v.Sb(16,"mat-form-field",4),v.Sb(17,"mat-label",5),v.xc(18,"Enter Date"),v.Rb(),v.Nb(19,"input",9),v.Rb(),v.Rb(),v.Sb(20,"div",3),v.Sb(21,"mat-form-field",4),v.Sb(22,"mat-label"),v.xc(23,"Image"),v.Rb(),v.Nb(24,"input",10),v.Sb(25,"mat-autocomplete",null,11),v.wc(27,k,2,2,"mat-option",12),v.Rb(),v.Rb(),v.Rb(),v.Sb(28,"div",13),v.Sb(29,"mat-form-field",4),v.Sb(30,"mat-label",5),v.xc(31,"Content"),v.Rb(),v.Nb(32,"textarea",14),v.Rb(),v.Rb(),v.Rb(),v.Rb(),v.Sb(33,"div",15),v.Sb(34,"button",16),v.Zb("click",function(){return e.saveChanges()}),v.wc(35,C,2,0,"span",17),v.wc(36,B,2,0,"span",17),v.Rb(),v.Sb(37,"button",18),v.Zb("click",function(){return e.cancel()}),v.xc(38,"Cancel"),v.Rb(),v.Rb()),2&t){const t=v.mc(26);v.Bb(2),v.ic("formGroup",e.blogForm),v.Bb(7),v.ic("ngIf",null==e.displayMessage?null:e.displayMessage.title),v.Bb(15),v.ic("matAutocomplete",t),v.Bb(3),v.ic("ngForOf",e.imageUrls),v.Bb(7),v.ic("disabled",e.blogForm.invalid||e.isLoading),v.Bb(1),v.ic("ngIf",!e.isLoading),v.Bb(1),v.ic("ngIf",e.isLoading)}},directives:[r.e,o.p,o.l,o.f,c.c,c.f,o.b,l.a,o.k,o.d,i.j,g.c,g.a,i.i,c.b,y.g],styles:[""]}),t})();function N(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," No. "),v.Rb())}function F(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.sn," ")}}function M(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Title "),v.Rb())}function D(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.title," ")}}function O(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Date "),v.Rb())}function A(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.date," ")}}function P(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Author "),v.Rb())}function z(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.author," ")}}function E(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Header Image "),v.Rb())}function Q(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.headerImg," ")}}function T(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Content "),v.Rb())}function $(t,e){if(1&t&&(v.Sb(0,"td",18),v.xc(1),v.Rb()),2&t){const t=e.$implicit;v.Bb(1),v.zc(" ",t.content.content," ")}}function G(t,e){1&t&&(v.Sb(0,"th",17),v.xc(1," Action "),v.Rb())}function L(t,e){if(1&t){const t=v.Tb();v.Sb(0,"td",18),v.Sb(1,"button",19),v.Nb(2,"i",20),v.Rb(),v.Sb(3,"mat-menu",null,21),v.Sb(5,"button",22),v.Zb("click",function(){v.oc(t);const a=e.$implicit;return v.dc().edit(a.content.id)}),v.Nb(6,"i",23),v.xc(7," Edit "),v.Rb(),v.Sb(8,"button",22),v.Zb("click",function(){v.oc(t);const a=e.$implicit;return v.dc().delete(a.content.id)}),v.Nb(9,"i",24),v.xc(10," Delete "),v.Rb(),v.Rb(),v.Rb()}if(2&t){const t=v.mc(4);v.Bb(1),v.ic("matMenuTriggerFor",t)}}function Z(t,e){1&t&&v.Nb(0,"tr",25)}function q(t,e){1&t&&v.Nb(0,"tr",26)}let H=(()=>{class t{constructor(t,e,a){this.dialog=t,this.blogService=e,this.snackbar=a,this.dataSource=new d.k(null),this.displayedColumns=["sn","title","date","author","headerImg","content","action"]}ngOnInit(){this.getBlogs()}getBlogs(){this.blogService.getAllBlogs().pipe(Object(f.a)(t=>t.map(t=>Object.assign({key:t.payload.key},t.payload.val())))).subscribe(t=>{this.dataSource.data=t})}edit(t){let e;const a=this.dataSource.data.find(e=>e.content.id===t);e=this.dialog.open(I,{width:"900px",data:a||{},autoFocus:!1}),e.afterClosed().pipe(Object(h.a)(500)).subscribe(t=>{this.dataSource._updateChangeSubscription()})}delete(t){const e=this.dataSource.data.find(e=>e.content.id===t);this.blogService.deleteBlog(e.key).pipe(Object(h.a)(400)).subscribe(t=>{this.snackbar.openFromComponent(S.a,{data:"Post Deleted Successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"})})}}return t.\u0275fac=function(e){return new(e||t)(v.Mb(r.b),v.Mb(w.a),v.Mb(x.b))},t.\u0275cmp=v.Gb({type:t,selectors:[["ng-component"]],decls:32,vars:3,consts:[[2,"background-color","rgb(124, 112, 112)","padding-top","100px","padding-bottom","20px"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","float-right","m-3",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","sn",2,"width","100px"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","date"],["matColumnDef","author"],["matColumnDef","headerImg"],["matColumnDef","content"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["type","button",1,"btn","btn-label-info","btn-sm","btn-icon","btn-circle",3,"matMenuTriggerFor"],[1,"fa","fa-align-center"],["menu","matMenu"],["type","button",1,"dropdown-item",3,"click"],[1,"flaticon-edit","kt-font-info","mr-1"],[1,"flaticon-delete","kt-font-danger","mr-1"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(v.Sb(0,"div",0),v.Sb(1,"div",1),v.Sb(2,"h3"),v.xc(3,"List of Team"),v.Rb(),v.Sb(4,"div",2),v.Sb(5,"div",3),v.Sb(6,"button",4),v.Zb("click",function(){return e.edit(0)}),v.xc(7,"Add new"),v.Rb(),v.Rb(),v.Rb(),v.Sb(8,"table",5),v.Qb(9,6),v.wc(10,N,2,0,"th",7),v.wc(11,F,2,1,"td",8),v.Pb(),v.Qb(12,9),v.wc(13,M,2,0,"th",7),v.wc(14,D,2,1,"td",8),v.Pb(),v.Qb(15,10),v.wc(16,O,2,0,"th",7),v.wc(17,A,2,1,"td",8),v.Pb(),v.Qb(18,11),v.wc(19,P,2,0,"th",7),v.wc(20,z,2,1,"td",8),v.Pb(),v.Qb(21,12),v.wc(22,E,2,0,"th",7),v.wc(23,Q,2,1,"td",8),v.Pb(),v.Qb(24,13),v.wc(25,T,2,0,"th",7),v.wc(26,$,2,1,"td",8),v.Pb(),v.Qb(27,14),v.wc(28,G,2,0,"th",7),v.wc(29,L,11,1,"td",8),v.Pb(),v.wc(30,Z,1,0,"tr",15),v.wc(31,q,1,0,"tr",16),v.Rb(),v.Rb(),v.Rb()),2&t&&(v.Bb(8),v.ic("dataSource",e.dataSource),v.Bb(22),v.ic("matHeaderRowDef",e.displayedColumns),v.Bb(1),v.ic("matRowDefColumns",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,m.c,m.a,d.f,d.h],styles:[""],data:{animation:[Object(p.m)("detailExpand",[Object(p.j)("collapsed",Object(p.k)({height:"0px",minHeight:"0"})),Object(p.j)("expanded",Object(p.k)({height:"*"})),Object(p.l)("expanded <=> collapsed",Object(p.e)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),t})(),V=(()=>{class t{}return t.\u0275mod=v.Kb({type:t}),t.\u0275inj=v.Jb({factory:function(e){return new(e||t)},providers:[w.a],imports:[[i.b,n.c.forChild([{path:"",component:H}]),o.g,o.n,c.e,l.b,s.a,b.b,r.c,d.l,m.b,u.a,g.b]]}),t})()}}]);