(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"3E0/":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("D0XW"),s=i("7o/Q"),o=i("WMd4");function r(e,t=n.a){var i;const s=(i=e)instanceof Date&&!isNaN(+i)?+e-t.now():Math.abs(e);return e=>e.lift(new a(s,t))}class a{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new c(e,this.delay,this.scheduler))}}class c extends s.a{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,s=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const t=Math.max(0,i[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(c.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new l(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(o.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.time=e,this.notification=t}}},XUkN:function(e,t,i){"use strict";i.r(t),i.d(t,"SignUpModule",function(){return P});var n=i("ofXK"),s=i("tyNb"),o=i("3Pt+"),r=i("qFsG"),a=i("kmnG"),c=i("Wp6s"),l=i("bSwM"),d=i("dNgK"),u=i("fXoL"),g=i("9Q/d"),p=i("xCwu"),b=i("t8So"),h=i("lJxs"),m=i("3E0/"),f=i("TcFV");function w(e,t){if(1&e&&(u.Sb(0,"mat-error",23),u.xc(1),u.Rb()),2&e){const e=u.dc();u.Bb(1),u.yc(null==e.displayMessage?null:e.displayMessage.email)}}function v(e,t){if(1&e&&(u.Sb(0,"mat-error",23),u.xc(1),u.Rb()),2&e){const e=u.dc();u.Bb(1),u.yc(null==e.displayMessage?null:e.displayMessage.password)}}function x(e,t){if(1&e&&(u.Sb(0,"mat-error",23),u.xc(1),u.Rb()),2&e){const e=u.dc();u.Bb(1),u.yc(null==e.displayMessage?null:e.displayMessage.confirmPassword)}}function _(e,t){1&e&&(u.Sb(0,"p",24),u.xc(1," Password doesn't match "),u.Rb())}function y(e,t){1&e&&(u.Sb(0,"span"),u.xc(1,"REGISTER"),u.Rb())}function M(e,t){1&e&&(u.Sb(0,"span"),u.Nb(1,"i",25),u.Rb())}let S=(()=>{class e{constructor(e,t,i,n){this.fb=e,this.router=t,this.snackbarService=i,this.authService=n,this.isLoading=!1,this.users=[],this.displayMessage={},this.genericValidator=new g.a({email:{required:"This field is required.",pattern:"Please enter valid email address."},password:{required:"This field is required."},confirmPassword:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getListOfUsers()}getListOfUsers(){this.authService.getAllUsers().pipe(Object(h.a)(e=>e.map(e=>Object.assign({key:e.payload.key},e.payload.val())))).subscribe(e=>{this.users=e})}initForm(){this.signupForm=this.fb.group({id:0,email:[null,[o.o.required,o.o.pattern(p.a.emailRegex)]],role:"user",password:[null,o.o.required],confirmPassword:[null,o.o.required]},{validator:this.passwordConfirming})}validation(){this.genericValidator.initValidationProcess(this.signupForm,this.formInputElements).subscribe({next:e=>this.displayMessage=e})}passwordConfirming(e){if(e.get("password").value!==e.get("confirmPassword").value)return{invalid:!0}}ngAfterViewInit(){this.validation()}saveChanges(){this.isLoading=!0,void 0===this.users.find(e=>e.content.email===this.signupForm.value.email)?this.authService.addUser(this.signupForm.value).pipe(Object(m.a)(400)).subscribe(e=>{this.router.navigate(["/home"]),this.snackbarService.openFromComponent(b.a,{data:"User registered successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1,this.router.navigate(["/login"])}):(this.snackbarService.openFromComponent(b.a,{data:"User already registered.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1)}login(){setTimeout(()=>{this.router.navigate(["/login"])},400)}}return e.\u0275fac=function(t){return new(t||e)(u.Mb(o.c),u.Mb(s.b),u.Mb(d.b),u.Mb(f.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&u.Cc(o.d,!0,u.l),2&e){let e;u.lc(e=u.ac())&&(t.formInputElements=e)}},decls:37,vars:8,consts:[["id","home",1,"signup_page","pb-4"],[1,"row","m_0"],[1,"col-md-4"],[1,"signup_card"],[1,"text-center"],["src","assets/logo/e-logo.png",1,"login_img"],[1,"row"],[1,"col-md-12","text-center","signup_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"max-width"],[1,"input_label"],["formControlName","email","type","email","matInput","","placeholder","Enter username"],["class","font-danger",4,"ngIf"],[1,"max-width","pt-3"],["formControlName","password","type","password","matInput","","placeholder","Enter Your Password"],["formControlName","confirmPassword","type","password","matInput","","placeholder","Re-enter your password"],["class","wrong_password",4,"ngIf"],[1,"col-md","12","text-center","pt-3"],[1,"signup_btn","signup_btn-5",3,"disabled"],[4,"ngIf"],[1,"col-md-12","text-center","pt-4"],[1,"already"],["href","Javascript:;",1,"s_login",3,"click"],[1,"font-danger"],[1,"wrong_password"],[1,"fa","fa-cog","fa-spin",2,"font-size","22px"]],template:function(e,t){1&e&&(u.Sb(0,"header",0),u.Sb(1,"div",1),u.Nb(2,"div",2),u.Sb(3,"div",2),u.Sb(4,"mat-card",3),u.Sb(5,"div",4),u.Nb(6,"img",5),u.Rb(),u.Sb(7,"div",6),u.Sb(8,"div",7),u.Sb(9,"form",8),u.Zb("ngSubmit",function(){return t.saveChanges()}),u.Sb(10,"mat-form-field",9),u.Sb(11,"mat-label",10),u.xc(12,"Email"),u.Rb(),u.Nb(13,"input",11),u.wc(14,w,2,1,"mat-error",12),u.Rb(),u.Sb(15,"mat-form-field",13),u.Sb(16,"mat-label",10),u.xc(17,"Password"),u.Rb(),u.Nb(18,"input",14),u.wc(19,v,2,1,"mat-error",12),u.Rb(),u.Sb(20,"mat-form-field",13),u.Sb(21,"mat-label",10),u.xc(22,"Confirm Password"),u.Rb(),u.Nb(23,"input",15),u.wc(24,x,2,1,"mat-error",12),u.Rb(),u.wc(25,_,2,0,"p",16),u.Sb(26,"div",6),u.Sb(27,"div",17),u.Sb(28,"button",18),u.wc(29,y,2,0,"span",19),u.wc(30,M,2,0,"span",19),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Sb(31,"div",20),u.Sb(32,"p",21),u.xc(33,"Already have an account? "),u.Sb(34,"a",22),u.Zb("click",function(){return t.login()}),u.xc(35,"Login"),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Nb(36,"div",2),u.Rb(),u.Rb()),2&e&&(u.Bb(9),u.ic("formGroup",t.signupForm),u.Bb(5),u.ic("ngIf",null==t.displayMessage?null:t.displayMessage.email),u.Bb(5),u.ic("ngIf",null==t.displayMessage?null:t.displayMessage.password),u.Bb(5),u.ic("ngIf",null==t.displayMessage?null:t.displayMessage.confirmPassword),u.Bb(1),u.ic("ngIf",null==t.signupForm.errors?null:t.signupForm.errors.invalid),u.Bb(3),u.ic("disabled",t.signupForm.invalid||t.isLoading),u.Bb(1),u.ic("ngIf",!t.isLoading),u.Bb(1),u.ic("ngIf",t.isLoading))},directives:[c.a,o.p,o.l,o.f,a.c,a.f,o.b,r.a,o.k,o.d,n.j,a.b],styles:[".signup_img[_ngcontent-%COMP%]{height:120px;border-radius:100%}.signup_card[_ngcontent-%COMP%]{background-image:url(lo.52202e5a6a813f126375.jpg);background-size:cover}.img[_ngcontent-%COMP%], .signup_card[_ngcontent-%COMP%]{background-repeat:no-repeat;justify-content:center}.img[_ngcontent-%COMP%]{height:100px;margin:0;background-image:url(e-logo.8ee22f6cab3aad6d7b87.png)}.signup_page[_ngcontent-%COMP%]{padding-top:100px;min-height:100vh;animation:myanimation 10s infinite}@keyframes myanimation{25%{background-color:#4e4e47}50%{background-color:#375537}75%{background-color:#3a2828}to{background-color:#3d3535}75%{background-color:#525055}50%{background-color:#794871}25%{background-color:#210527}0%{background-color:#501818}}.input_label[_ngcontent-%COMP%]{color:#fff}.signup_btn[_ngcontent-%COMP%]{color:#000;cursor:pointer;display:block;font-size:16px;font-weight:400;line-height:45px;max-width:160px;margin:0 auto 2em;position:relative;text-transform:uppercase;vertical-align:middle;width:100%}@media (min-width:400px){.signup_btn[_ngcontent-%COMP%]{display:inline-block;margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}}@media (min-width:600px){.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(5){margin-right:0}}.signup_btn-5[_ngcontent-%COMP%]{border:0 solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,0);text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1);outline-color:hsla(0,0%,100%,.5);outline-offset:0}.signup_btn-5[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-offset:15px;outline-color:hsla(0,0%,100%,0);text-shadow:1px 1px 2px #427388}.m_0[_ngcontent-%COMP%]{margin:0}.max-width[_ngcontent-%COMP%]{width:90%!important}.wrong_password[_ngcontent-%COMP%]{text-align:left!important;padding-left:10%!important;color:#f44336;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.already[_ngcontent-%COMP%]{color:#fff!important}.s_login[_ngcontent-%COMP%]{color:#0272f1!important;text-decoration:none}.s_login[_ngcontent-%COMP%]:hover{color:#00e676!important;text-decoration:none;transition:color .8s ease-in-out}"]}),e})(),P=(()=>{class e{}return e.\u0275mod=u.Kb({type:e}),e.\u0275inj=u.Jb({factory:function(t){return new(t||e)},imports:[[n.b,s.d.forChild([{path:"",component:S}]),o.g,o.n,r.b,a.e,c.b,l.b,d.c]]}),e})()}}]);