(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{XUkN:function(e,t,n){"use strict";n.r(t),n.d(t,"SignUpModule",function(){return k});var r=n("ofXK"),i=n("tyNb"),a=n("3Pt+"),o=n("qFsG"),s=n("kmnG"),l=n("Wp6s"),d=n("bSwM"),b=n("dNgK"),c=n("fXoL"),u=n("9Q/d"),p=n("xCwu"),m=n("t8So"),g=n("lJxs"),f=n("3E0/"),h=n("TcFV");function y(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.firstName)}}function S(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.lastName)}}function v(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.userName)}}function T(e,t){1&e&&(c.Tb(0,"p",38),c.Ec(1," Username Not available "),c.Sb())}function C(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.address)}}function w(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.gender)}}function M(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.email)}}function x(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.password)}}function O(e,t){if(1&e&&(c.Tb(0,"mat-error",37),c.Ec(1),c.Sb()),2&e){const e=c.ec();c.Cb(1),c.Fc(null==e.displayMessage?null:e.displayMessage.confirmPassword)}}function _(e,t){1&e&&(c.Tb(0,"p",38),c.Ec(1," Password doesn't match "),c.Sb())}function N(e,t){1&e&&(c.Tb(0,"span"),c.Ec(1,"REGISTER"),c.Sb())}function E(e,t){1&e&&(c.Tb(0,"div",39),c.Ob(1,"div"),c.Ob(2,"div"),c.Sb())}let P=(()=>{class e{constructor(e,t,n,r){this.fb=e,this.router=t,this.snackbarService=n,this.authService=r,this.isLoading=!1,this.users=[],this.userName=!1,this.displayMessage={},this.genericValidator=new u.a({email:{required:"This field is required.",pattern:"Please enter valid email address."},password:{required:"This field is required."},confirmPassword:{required:"This field is required."},firstName:{required:"This field is required."},lastName:{required:"This field is required."},userName:{required:"This field is required."},address:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getListOfUsers()}getListOfUsers(){this.authService.getAllUsers().pipe(Object(g.a)(e=>e.map(e=>Object.assign({key:e.payload.key},e.payload.val())))).subscribe(e=>{this.users=e})}initForm(){this.signupForm=this.fb.group({id:0,email:[null,[a.q.required,a.q.pattern(p.a.emailRegex)]],role:"user",firstName:[null,a.q.required],middleName:[null],lastName:[null,a.q.required],userName:[null,a.q.required],address:[null,a.q.required],dob:null,phone:null,gender:[null,a.q.required],edu:null,about:null,password:[null,a.q.required],confirmPassword:[null,a.q.required]},{validator:this.passwordConfirming})}validation(){this.genericValidator.initValidationProcess(this.signupForm,this.formInputElements).subscribe({next:e=>this.displayMessage=e})}passwordConfirming(e){if(e.get("password").value!==e.get("confirmPassword").value)return{invalid:!0}}ngAfterViewInit(){this.signupForm.get("userName").valueChanges.subscribe(e=>{this.authService.getAllUsers().pipe(Object(g.a)(e=>e.map(e=>Object.assign({key:e.payload.key},e.payload.val())))).subscribe(t=>{let n=t.find(t=>t.content.userName===e);this.userName=void 0!==n})}),this.validation()}saveChanges(){this.isLoading=!0,void 0===this.users.find(e=>e.content.email===this.signupForm.value.email)?this.authService.addUser(this.signupForm.value).pipe(Object(f.a)(400)).subscribe(e=>{this.router.navigate(["/home"]),this.snackbarService.openFromComponent(m.a,{data:"User registered successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1,this.router.navigate(["/login"])}):(this.snackbarService.openFromComponent(m.a,{data:"User already registered.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1)}login(){setTimeout(()=>{this.router.navigate(["/login"])},400)}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(a.d),c.Nb(i.b),c.Nb(b.b),c.Nb(h.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&c.Kc(a.e,!0,c.l),2&e){let e;c.pc(e=c.bc())&&(t.formInputElements=e)}},decls:97,vars:14,consts:[["id","home",1,"signup_page","pb-4"],[1,"row","m_0"],[1,"col-md-2"],[1,"col-md-8"],[1,"signup_card"],[1,"text-center"],["src","assets/logo/e-logo.png",1,"login_img"],[1,"row"],[1,"col-md-12","text-center","signup_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"col-md-4"],[1,"max-width"],[1,"input_label"],["formControlName","firstName","type","text","matInput","","placeholder","Enter your first name"],["class","font-danger",4,"ngIf"],["formControlName","middleName","type","text","matInput","","placeholder","Enter your middle name(optional)"],["formControlName","lastName","type","text","matInput","","placeholder","Enter your last name"],[1,"max-width","pt-3"],["formControlName","userName","type","text","matInput","","placeholder","Create your username"],["class","wrong_password",4,"ngIf"],["formControlName","address","type","text","matInput","","placeholder","Enter your address"],["formControlName","dob","type","text","matInput","","placeholder","Enter your dob"],["formControlName","phone","type","text","matInput","","placeholder","Enter your phone no"],["formControlName","gender","type","text","matInput","","placeholder","Enter your gender"],["formControlName","edu","type","text","matInput","","placeholder","Enter your higher education level."],["formControlName","email","type","email","matInput","","placeholder","Enter username"],["formControlName","password","type","password","matInput","","placeholder","Enter Your Password"],["formControlName","confirmPassword","type","password","matInput","","placeholder","Re-enter your password"],[1,"col-md-12",2,"padding","0 !important"],["formControlName","about","type","text","matInput","","placeholder","Write about yourself"],[1,"col-md","12","text-center","pt-3"],[1,"signup_btn","signup_btn-5",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"col-md-12","text-center","pt-4"],[1,"already"],["href","Javascript:;",1,"s_login",3,"click"],[1,"font-danger"],[1,"wrong_password"],[1,"spinner"]],template:function(e,t){1&e&&(c.Tb(0,"header",0),c.Tb(1,"div",1),c.Ob(2,"div",2),c.Tb(3,"div",3),c.Tb(4,"mat-card",4),c.Tb(5,"div",5),c.Ob(6,"img",6),c.Sb(),c.Tb(7,"div",7),c.Tb(8,"div",8),c.Tb(9,"form",9),c.ac("ngSubmit",function(){return t.saveChanges()}),c.Tb(10,"div",7),c.Tb(11,"div",10),c.Tb(12,"mat-form-field",11),c.Tb(13,"mat-label",12),c.Ec(14,"First Name"),c.Sb(),c.Ob(15,"input",13),c.Dc(16,y,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(17,"div",10),c.Tb(18,"mat-form-field",11),c.Tb(19,"mat-label",12),c.Ec(20,"Middle Name"),c.Sb(),c.Ob(21,"input",15),c.Sb(),c.Sb(),c.Tb(22,"div",10),c.Tb(23,"mat-form-field",11),c.Tb(24,"mat-label",12),c.Ec(25,"Last Name"),c.Sb(),c.Ob(26,"input",16),c.Dc(27,S,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(28,"div",10),c.Tb(29,"mat-form-field",17),c.Tb(30,"mat-label",12),c.Ec(31,"User Name"),c.Sb(),c.Ob(32,"input",18),c.Dc(33,v,2,1,"mat-error",14),c.Sb(),c.Dc(34,T,2,0,"p",19),c.Sb(),c.Tb(35,"div",10),c.Tb(36,"mat-form-field",17),c.Tb(37,"mat-label",12),c.Ec(38,"Address"),c.Sb(),c.Ob(39,"input",20),c.Dc(40,C,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(41,"div",10),c.Tb(42,"mat-form-field",17),c.Tb(43,"mat-label",12),c.Ec(44,"Date of birth"),c.Sb(),c.Ob(45,"input",21),c.Sb(),c.Sb(),c.Tb(46,"div",10),c.Tb(47,"mat-form-field",17),c.Tb(48,"mat-label",12),c.Ec(49,"Phone No."),c.Sb(),c.Ob(50,"input",22),c.Sb(),c.Sb(),c.Tb(51,"div",10),c.Tb(52,"mat-form-field",17),c.Tb(53,"mat-label",12),c.Ec(54,"Gender"),c.Sb(),c.Ob(55,"input",23),c.Dc(56,w,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(57,"div",10),c.Tb(58,"mat-form-field",17),c.Tb(59,"mat-label",12),c.Ec(60,"Education"),c.Sb(),c.Ob(61,"input",24),c.Sb(),c.Sb(),c.Tb(62,"div",10),c.Tb(63,"mat-form-field",17),c.Tb(64,"mat-label",12),c.Ec(65,"Email"),c.Sb(),c.Ob(66,"input",25),c.Dc(67,M,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(68,"div",10),c.Tb(69,"mat-form-field",17),c.Tb(70,"mat-label",12),c.Ec(71,"Password"),c.Sb(),c.Ob(72,"input",26),c.Dc(73,x,2,1,"mat-error",14),c.Sb(),c.Sb(),c.Tb(74,"div",10),c.Tb(75,"mat-form-field",17),c.Tb(76,"mat-label",12),c.Ec(77,"Confirm Password"),c.Sb(),c.Ob(78,"input",27),c.Dc(79,O,2,1,"mat-error",14),c.Sb(),c.Dc(80,_,2,0,"p",19),c.Sb(),c.Tb(81,"div",28),c.Tb(82,"mat-form-field",17),c.Tb(83,"mat-label",12),c.Ec(84,"About"),c.Sb(),c.Ob(85,"textarea",29),c.Sb(),c.Sb(),c.Sb(),c.Tb(86,"div",7),c.Tb(87,"div",30),c.Tb(88,"button",31),c.Dc(89,N,2,0,"span",32),c.Dc(90,E,3,0,"div",33),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(91,"div",34),c.Tb(92,"p",35),c.Ec(93,"Already have an account? "),c.Tb(94,"a",36),c.ac("click",function(){return t.login()}),c.Ec(95,"Login"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Ob(96,"div",2),c.Sb(),c.Sb()),2&e&&(c.Cb(9),c.lc("formGroup",t.signupForm),c.Cb(7),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.firstName),c.Cb(11),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.lastName),c.Cb(6),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.userName),c.Cb(1),c.lc("ngIf",!0===t.userName),c.Cb(6),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.address),c.Cb(16),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.gender),c.Cb(11),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.email),c.Cb(6),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.password),c.Cb(6),c.lc("ngIf",null==t.displayMessage?null:t.displayMessage.confirmPassword),c.Cb(1),c.lc("ngIf",null==t.signupForm.errors?null:t.signupForm.errors.invalid),c.Cb(8),c.lc("disabled",t.signupForm.invalid||t.isLoading),c.Cb(1),c.lc("ngIf",!t.isLoading),c.Cb(1),c.lc("ngIf",t.isLoading))},directives:[l.a,a.r,a.m,a.g,s.c,s.f,a.c,o.b,a.l,a.e,r.l,s.b],styles:[".signup_img[_ngcontent-%COMP%]{height:120px;border-radius:100%}.signup_card[_ngcontent-%COMP%]{background-image:url(lo.52202e5a6a813f126375.jpg);background-size:cover}.img[_ngcontent-%COMP%], .signup_card[_ngcontent-%COMP%]{background-repeat:no-repeat;justify-content:center}.img[_ngcontent-%COMP%]{height:100px;margin:0;background-image:url(e-logo.8ee22f6cab3aad6d7b87.png)}.signup_page[_ngcontent-%COMP%]{padding-top:100px;min-height:100vh;background:url(https://image.freepik.com/free-photo/shiny-lights_385-19321244.jpg);background-size:cover}@keyframes myanimation{25%{background-color:#4e4e47}50%{background-color:#375537}75%{background-color:#3a2828}to{background-color:#3d3535}75%{background-color:#525055}50%{background-color:#794871}25%{background-color:#210527}0%{background-color:#501818}}.input_label[_ngcontent-%COMP%]{color:#fff}.signup_btn[_ngcontent-%COMP%]{color:#000;cursor:pointer;display:block;font-size:16px;font-weight:400;line-height:45px;max-width:160px;margin:0 auto 2em;position:relative;text-transform:uppercase;vertical-align:middle;width:100%}@media (min-width:400px){.signup_btn[_ngcontent-%COMP%]{display:inline-block;margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}}@media (min-width:600px){.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(5){margin-right:0}}.signup_btn-5[_ngcontent-%COMP%]{border:0 solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,0);text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1);outline-color:hsla(0,0%,100%,.5);outline-offset:0}.signup_btn-5[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-offset:15px;outline-color:hsla(0,0%,100%,0);text-shadow:1px 1px 2px #427388}.m_0[_ngcontent-%COMP%]{margin:0}.max-width[_ngcontent-%COMP%]{width:90%!important}.wrong_password[_ngcontent-%COMP%]{text-align:left!important;padding-left:10%!important;color:#f44336;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.already[_ngcontent-%COMP%]{color:#fff!important}.s_login[_ngcontent-%COMP%]{color:#0272f1!important;text-decoration:none}.s_login[_ngcontent-%COMP%]:hover{color:#00e676!important;text-decoration:none;transition:color .8s ease-in-out}.spinner[_ngcontent-%COMP%]{padding:0 auto;width:40px;height:40px;position:relative}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:50px;position:absolute;width:100%;height:100%;border:10px solid transparent;border-top-color:#00e676;border-radius:50%;animation:spinnerOne 1.2s linear infinite}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){border:10px solid transparent;border-bottom-color:#00e676;animation:spinnerTwo 1.2s linear infinite}@keyframes spinnerOne{0%{transform:rotate(0deg);border-width:10px}50%{transform:rotate(180deg);border-width:1px}to{transform:rotate(1turn);border-width:10px}}@keyframes spinnerTwo{0%{transform:rotate(0deg);border-width:1px}50%{transform:rotate(180deg);border-width:10px}to{transform:rotate(1turn);border-width:1px}}"]}),e})(),k=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[r.c,i.d.forChild([{path:"",component:P}]),a.h,a.p,o.c,s.e,l.b,d.b,b.c]]}),e})()},t8So:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("dNgK"),i=n("fXoL");let a=(()=>{class e{constructor(e,t){this.sbRef=e,this.data=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(r.d),i.Nb(r.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-basic-snackbar"]],decls:6,vars:1,consts:[[1,"snack"],[1,"mb-4"],[1,"dismiss"],["mat-icon-button","",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,t){1&e&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Ec(2),i.Sb(),i.Tb(3,"div",2),i.Tb(4,"button",3),i.ac("click",function(){return t.sbRef.dismiss()}),i.Ec(5," Close "),i.Sb(),i.Sb(),i.Sb()),2&e&&(i.Cb(2),i.Fc(t.data))},styles:[".snack[_ngcontent-%COMP%]{text-align:center}"]}),e})()}}]);