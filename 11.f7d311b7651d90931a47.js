(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{XUkN:function(n,t,e){"use strict";e.r(t),e.d(t,"SignUpModule",function(){return P});var i=e("ofXK"),o=e("tyNb"),r=e("3Pt+"),s=e("qFsG"),a=e("kmnG"),l=e("Wp6s"),c=e("bSwM"),d=e("dNgK"),p=e("fXoL"),g=e("9Q/d"),b=e("xCwu"),u=e("t8So"),m=e("lJxs"),f=e("3E0/"),h=e("TcFV");function w(n,t){if(1&n&&(p.Tb(0,"mat-error",24),p.Ec(1),p.Sb()),2&n){const n=p.ec();p.Cb(1),p.Fc(null==n.displayMessage?null:n.displayMessage.email)}}function v(n,t){if(1&n&&(p.Tb(0,"mat-error",24),p.Ec(1),p.Sb()),2&n){const n=p.ec();p.Cb(1),p.Fc(null==n.displayMessage?null:n.displayMessage.password)}}function _(n,t){if(1&n&&(p.Tb(0,"mat-error",24),p.Ec(1),p.Sb()),2&n){const n=p.ec();p.Cb(1),p.Fc(null==n.displayMessage?null:n.displayMessage.confirmPassword)}}function C(n,t){1&n&&(p.Tb(0,"p",25),p.Ec(1," Password doesn't match "),p.Sb())}function x(n,t){1&n&&(p.Tb(0,"span"),p.Ec(1,"REGISTER"),p.Sb())}function y(n,t){1&n&&(p.Tb(0,"div",26),p.Ob(1,"div"),p.Ob(2,"div"),p.Sb())}let O=(()=>{class n{constructor(n,t,e,i){this.fb=n,this.router=t,this.snackbarService=e,this.authService=i,this.isLoading=!1,this.users=[],this.displayMessage={},this.genericValidator=new g.a({email:{required:"This field is required.",pattern:"Please enter valid email address."},password:{required:"This field is required."},confirmPassword:{required:"This field is required."}})}ngOnInit(){this.initForm(),this.getListOfUsers()}getListOfUsers(){this.authService.getAllUsers().pipe(Object(m.a)(n=>n.map(n=>Object.assign({key:n.payload.key},n.payload.val())))).subscribe(n=>{this.users=n})}initForm(){this.signupForm=this.fb.group({id:0,email:[null,[r.q.required,r.q.pattern(b.a.emailRegex)]],role:"user",password:[null,r.q.required],confirmPassword:[null,r.q.required]},{validator:this.passwordConfirming})}validation(){this.genericValidator.initValidationProcess(this.signupForm,this.formInputElements).subscribe({next:n=>this.displayMessage=n})}passwordConfirming(n){if(n.get("password").value!==n.get("confirmPassword").value)return{invalid:!0}}ngAfterViewInit(){this.validation()}saveChanges(){this.isLoading=!0,void 0===this.users.find(n=>n.content.email===this.signupForm.value.email)?this.authService.addUser(this.signupForm.value).pipe(Object(f.a)(400)).subscribe(n=>{this.router.navigate(["/home"]),this.snackbarService.openFromComponent(u.a,{data:"User registered successfully.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1,this.router.navigate(["/login"])}):(this.snackbarService.openFromComponent(u.a,{data:"User already registered.",duration:5e3,verticalPosition:"top",horizontalPosition:"right"}),this.isLoading=!1)}login(){setTimeout(()=>{this.router.navigate(["/login"])},400)}}return n.\u0275fac=function(t){return new(t||n)(p.Nb(r.d),p.Nb(o.b),p.Nb(d.b),p.Nb(h.a))},n.\u0275cmp=p.Hb({type:n,selectors:[["ng-component"]],viewQuery:function(n,t){if(1&n&&p.Jc(r.e,!0,p.l),2&n){let n;p.pc(n=p.bc())&&(t.formInputElements=n)}},decls:37,vars:8,consts:[["id","home",1,"signup_page","pb-4"],[1,"row","m_0"],[1,"col-md-4"],[1,"signup_card"],[1,"text-center"],["src","assets/logo/e-logo.png",1,"login_img"],[1,"row"],[1,"col-md-12","text-center","signup_form"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"max-width"],[1,"input_label"],["formControlName","email","type","email","matInput","","placeholder","Enter username"],["class","font-danger",4,"ngIf"],[1,"max-width","pt-3"],["formControlName","password","type","password","matInput","","placeholder","Enter Your Password"],["formControlName","confirmPassword","type","password","matInput","","placeholder","Re-enter your password"],["class","wrong_password",4,"ngIf"],[1,"col-md","12","text-center","pt-3"],[1,"signup_btn","signup_btn-5",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"col-md-12","text-center","pt-4"],[1,"already"],["href","Javascript:;",1,"s_login",3,"click"],[1,"font-danger"],[1,"wrong_password"],[1,"spinner"]],template:function(n,t){1&n&&(p.Tb(0,"header",0),p.Tb(1,"div",1),p.Ob(2,"div",2),p.Tb(3,"div",2),p.Tb(4,"mat-card",3),p.Tb(5,"div",4),p.Ob(6,"img",5),p.Sb(),p.Tb(7,"div",6),p.Tb(8,"div",7),p.Tb(9,"form",8),p.ac("ngSubmit",function(){return t.saveChanges()}),p.Tb(10,"mat-form-field",9),p.Tb(11,"mat-label",10),p.Ec(12,"Email"),p.Sb(),p.Ob(13,"input",11),p.Dc(14,w,2,1,"mat-error",12),p.Sb(),p.Tb(15,"mat-form-field",13),p.Tb(16,"mat-label",10),p.Ec(17,"Password"),p.Sb(),p.Ob(18,"input",14),p.Dc(19,v,2,1,"mat-error",12),p.Sb(),p.Tb(20,"mat-form-field",13),p.Tb(21,"mat-label",10),p.Ec(22,"Confirm Password"),p.Sb(),p.Ob(23,"input",15),p.Dc(24,_,2,1,"mat-error",12),p.Sb(),p.Dc(25,C,2,0,"p",16),p.Tb(26,"div",6),p.Tb(27,"div",17),p.Tb(28,"button",18),p.Dc(29,x,2,0,"span",19),p.Dc(30,y,3,0,"div",20),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(31,"div",21),p.Tb(32,"p",22),p.Ec(33,"Already have an account? "),p.Tb(34,"a",23),p.ac("click",function(){return t.login()}),p.Ec(35,"Login"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Ob(36,"div",2),p.Sb(),p.Sb()),2&n&&(p.Cb(9),p.lc("formGroup",t.signupForm),p.Cb(5),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.email),p.Cb(5),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.password),p.Cb(5),p.lc("ngIf",null==t.displayMessage?null:t.displayMessage.confirmPassword),p.Cb(1),p.lc("ngIf",null==t.signupForm.errors?null:t.signupForm.errors.invalid),p.Cb(3),p.lc("disabled",t.signupForm.invalid||t.isLoading),p.Cb(1),p.lc("ngIf",!t.isLoading),p.Cb(1),p.lc("ngIf",t.isLoading))},directives:[l.a,r.r,r.m,r.g,a.c,a.f,r.c,s.b,r.l,r.e,i.l,a.b],styles:[".signup_img[_ngcontent-%COMP%]{height:120px;border-radius:100%}.signup_card[_ngcontent-%COMP%]{background-image:url(lo.52202e5a6a813f126375.jpg);background-size:cover}.img[_ngcontent-%COMP%], .signup_card[_ngcontent-%COMP%]{background-repeat:no-repeat;justify-content:center}.img[_ngcontent-%COMP%]{height:100px;margin:0;background-image:url(e-logo.8ee22f6cab3aad6d7b87.png)}.signup_page[_ngcontent-%COMP%]{padding-top:100px;min-height:100vh;background:url(https://image.freepik.com/free-photo/shiny-lights_385-19321244.jpg);background-size:cover}@keyframes myanimation{25%{background-color:#4e4e47}50%{background-color:#375537}75%{background-color:#3a2828}to{background-color:#3d3535}75%{background-color:#525055}50%{background-color:#794871}25%{background-color:#210527}0%{background-color:#501818}}.input_label[_ngcontent-%COMP%]{color:#fff}.signup_btn[_ngcontent-%COMP%]{color:#000;cursor:pointer;display:block;font-size:16px;font-weight:400;line-height:45px;max-width:160px;margin:0 auto 2em;position:relative;text-transform:uppercase;vertical-align:middle;width:100%}@media (min-width:400px){.signup_btn[_ngcontent-%COMP%]{display:inline-block;margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}}@media (min-width:600px){.signup_btn[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:2.5em}.signup_btn[_ngcontent-%COMP%]:nth-of-type(5){margin-right:0}}.signup_btn-5[_ngcontent-%COMP%]{border:0 solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,0);outline:1px solid;outline-color:hsla(0,0%,100%,0);text-shadow:none;transition:all 1.25s cubic-bezier(.19,1,.22,1);outline-color:hsla(0,0%,100%,.5);outline-offset:0}.signup_btn-5[_ngcontent-%COMP%]:hover{border:1px solid;box-shadow:inset 0 0 20px hsla(0,0%,100%,.5),0 0 20px hsla(0,0%,100%,.2);outline-offset:15px;outline-color:hsla(0,0%,100%,0);text-shadow:1px 1px 2px #427388}.m_0[_ngcontent-%COMP%]{margin:0}.max-width[_ngcontent-%COMP%]{width:90%!important}.wrong_password[_ngcontent-%COMP%]{text-align:left!important;padding-left:10%!important;color:#f44336;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:normal}.already[_ngcontent-%COMP%]{color:#fff!important}.s_login[_ngcontent-%COMP%]{color:#0272f1!important;text-decoration:none}.s_login[_ngcontent-%COMP%]:hover{color:#00e676!important;text-decoration:none;transition:color .8s ease-in-out}.spinner[_ngcontent-%COMP%]{padding:0 auto;width:40px;height:40px;position:relative}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:50px;position:absolute;width:100%;height:100%;border:10px solid transparent;border-top-color:#00e676;border-radius:50%;animation:spinnerOne 1.2s linear infinite}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){border:10px solid transparent;border-bottom-color:#00e676;animation:spinnerTwo 1.2s linear infinite}@keyframes spinnerOne{0%{transform:rotate(0deg);border-width:10px}50%{transform:rotate(180deg);border-width:1px}to{transform:rotate(1turn);border-width:10px}}@keyframes spinnerTwo{0%{transform:rotate(0deg);border-width:1px}50%{transform:rotate(180deg);border-width:10px}to{transform:rotate(1turn);border-width:1px}}"]}),n})(),P=(()=>{class n{}return n.\u0275mod=p.Lb({type:n}),n.\u0275inj=p.Kb({factory:function(t){return new(t||n)},imports:[[i.c,o.d.forChild([{path:"",component:O}]),r.h,r.p,s.c,a.e,l.b,c.b,d.c]]}),n})()},t8So:function(n,t,e){"use strict";e.d(t,"a",function(){return r});var i=e("dNgK"),o=e("fXoL");let r=(()=>{class n{constructor(n,t){this.sbRef=n,this.data=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(o.Nb(i.d),o.Nb(i.a))},n.\u0275cmp=o.Hb({type:n,selectors:[["app-basic-snackbar"]],decls:6,vars:1,consts:[[1,"snack"],[1,"mb-4"],[1,"dismiss"],["mat-icon-button","",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(n,t){1&n&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Ec(2),o.Sb(),o.Tb(3,"div",2),o.Tb(4,"button",3),o.ac("click",function(){return t.sbRef.dismiss()}),o.Ec(5," Close "),o.Sb(),o.Sb(),o.Sb()),2&n&&(o.Cb(2),o.Fc(t.data))},styles:[".snack[_ngcontent-%COMP%]{text-align:center}"]}),n})()}}]);